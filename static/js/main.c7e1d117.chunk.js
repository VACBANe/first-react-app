(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{12:function(e,t,s){e.exports={nav:"Navbar_nav__fZE_U",item:"Navbar_item__WttfX",active:"Navbar_active__T1FcC"}},14:function(e,t,s){e.exports={dialogs:"Dialogs_dialogs__sBLsw",dialogsItems:"Dialogs_dialogsItems__1EZgH",active:"Dialogs_active__2LWTX",messages:"Dialogs_messages__22FP3"}},24:function(e,t,s){e.exports={avatar:"Users_avatar__m6Hh9",selectedPage:"Users_selectedPage__3DNFy",navigation:"Users_navigation__2XZgg"}},25:function(e,t,s){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__QTIyG",profileImg:"ProfileInfo_profileImg__FsmwB",image:"ProfileInfo_image__3PZse"}},30:function(e,t,s){e.exports={message:"Message_message__q7NIY",you:"Message_you__10n7C",friend:"Message_friend__34q8b"}},31:function(e,t,s){e.exports={sideFriendsBlock:"SideFriends_sideFriendsBlock__1EjLw",friends:"SideFriends_friends__3hDDW"}},32:function(e,t,s){e.exports={postsBlock:"MyPosts_postsBlock__1k9zt",posts:"MyPosts_posts__IR9nJ"}},33:function(e,t,s){e.exports={header:"Header_header__13WYo",loginBlock:"Header_loginBlock__HTrdB"}},43:function(e,t,s){e.exports={item:"SideFriend_item__2ju14"}},44:function(e,t,s){e.exports={content:"Profile_content__3WgKC"}},45:function(e,t,s){e.exports={item:"Post_item__2MeW7"}},50:function(e,t,s){},51:function(e,t,s){},76:function(e,t,s){"use strict";s.r(t);var n=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,77)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;s(e),n(e),a(e),i(e),r(e)}))},a=s(1),i=s.n(a),r=s(21),c=s.n(r),o=(s(50),s(51),s(0)),l=function(){return Object(o.jsx)("div",{children:"Feed"})},d=s(4),u=s(23),j=s(2),p="SEND_MESSAGE",g="UPDATE_NEW_MESSAGE_TEXT",f={messages:[{id:1,message:"Hi",sender:"you"},{id:2,message:"Hello",sender:"friend"},{id:3,message:"How are you?",sender:"you"},{id:4,message:"Good,and you?",sender:"friend"},{id:5,message:"Good",sender:"you"},{id:6,message:"Ti horoshiy",sender:"you"},{id:7,message:"Sam ti horoshiy",sender:"friend"}],dialogs:[{id:1,name:"NeVlad"},{id:2,name:"Vlad"},{id:3,name:"VLADD"},{id:4,name:"VLADD"},{id:5,name:"VLADD"}],newMessageText:""},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:var s=e.newMessageText;return Object(j.a)(Object(j.a)({},e),{},{newMessageText:"",messages:[].concat(Object(u.a)(e.messages),[{id:8,message:s,sender:"you"}])});case g:return Object(j.a)(Object(j.a)({},e),{},{newMessageText:t.newText});default:return e}},h=s(14),m=s.n(h),O=s(5),x=function(e){return Object(o.jsx)("div",{className:m.a.dialog,children:Object(o.jsx)(O.b,{to:"/dialogs/"+e.id,activeClassName:m.a.active,children:e.name})})},v=s(30),_=s.n(v),w=function(e){return Object(o.jsx)("div",{className:_.a.message+" "+_.a[e.sender],children:e.message})},P=function(e){var t=e.dialogsPage,s=t.dialogs.map((function(e){return Object(o.jsx)(x,{name:e.name,id:e.id},e.id)})),n=t.messages.map((function(e){return Object(o.jsx)(w,{message:e.message,sender:e.sender},e.id)})),a=t.newMessageText;return Object(o.jsxs)("div",{className:m.a.dialogs,children:[Object(o.jsx)("div",{className:m.a.dialogsItems,children:s}),Object(o.jsxs)("div",{className:m.a.messages,children:[n,Object(o.jsx)("textarea",{onChange:function(t){var s=t.target.value;e.updateNewMessageText(s)},value:a}),Object(o.jsx)("button",{onClick:function(){e.sendMessage()},children:"Send"})]})]})},N=s(6),C=Object(N.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{updateNewMessageText:function(t){e(function(e){return{type:g,newText:e}}(t))},sendMessage:function(){e({type:p})}}}))(P),y=s(12),T=s.n(y),k=s(43),F=s.n(k),I=function(e){return Object(o.jsx)("div",{className:F.a.item,children:e.name})},S=s(31),U=s.n(S),E=function(e){var t=e.sideFriends.map((function(e){return Object(o.jsx)(I,{name:e.name},e.id)}));return Object(o.jsxs)("div",{className:U.a.sideFriendsBlock,children:["Friends",Object(o.jsx)("div",{className:U.a.friends,children:t})]})},D=function(e){return Object(o.jsxs)("nav",{className:T.a.nav,children:[Object(o.jsx)("div",{className:T.a.item,children:Object(o.jsx)(O.b,{to:"/first-react-app/profile",activeClassName:T.a.active,children:"Profile"})}),Object(o.jsx)("div",{className:T.a.item,children:Object(o.jsx)(O.b,{to:"/first-react-app/dialogs",activeClassName:T.a.active,children:"Messages"})}),Object(o.jsx)("div",{className:T.a.item,children:Object(o.jsx)(O.b,{to:"/first-react-app/feed",activeClassName:T.a.active,children:"Feed"})}),Object(o.jsx)("div",{className:T.a.item,children:Object(o.jsx)(O.b,{to:"/first-react-app/users",activeClassName:T.a.active,children:"Users"})}),Object(o.jsx)("div",{className:T.a.item,children:Object(o.jsx)("a",{href:"/first-react-app/music",children:"Music"})}),Object(o.jsx)("div",{className:T.a.item,children:Object(o.jsx)("a",{href:"/first-react-app/settings",children:"Settings"})}),Object(o.jsx)(E,{sideFriends:e.sideFriends})]})},A=Object(N.b)((function(e){return{sideFriends:e.sidebar.friends}}))(D),M=s(16),L=s(17),B=s(19),H=s(18),W="FOLLOW",R="UNFOLLOW",G="SET_USERS",z="SET_CURRENT_PAGE",V="SET_TOTAL_USERS_COUNT",X="TOGGLE_IS_FETCHING",J={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!1},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Object(j.a)(Object(j.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(j.a)(Object(j.a)({},e),{},{followed:!0}):e}))});case R:return Object(j.a)(Object(j.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(j.a)(Object(j.a)({},e),{},{followed:!1}):e}))});case G:return Object(j.a)(Object(j.a)({},e),{},{users:t.users});case z:return Object(j.a)(Object(j.a)({},e),{},{currentPage:t.currentPage});case V:return Object(j.a)(Object(j.a)({},e),{},{totalUsersCount:t.totalUsersCount});case X:return Object(j.a)(Object(j.a)({},e),{},{isFetching:t.isFetching});default:return e}},Z=s(13),K=s.n(Z),q=s(24),Q=s.n(q),$=s.p+"static/media/user_avatar.6f98575a.png",ee=function(e){for(var t=[],s=1;s<=30;s++)t.push(s);return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:Q.a.navigation,children:t.map((function(t){return Object(o.jsxs)("span",{className:e.currentPage===t&&Q.a.selectedPage,onClick:function(s){e.onPageChanged(t)},children:[" ",t," "]})}))}),e.users.map((function(t){return Object(o.jsxs)("div",{children:[Object(o.jsxs)("span",{children:[Object(o.jsx)("div",{children:Object(o.jsx)(O.b,{to:"/first-react-app/profile/"+t.id,children:Object(o.jsx)("img",{className:Q.a.avatar,alt:"avatar",src:null!=t.photos.small?t.photos.small:$})})}),Object(o.jsx)("div",{children:t.followed?Object(o.jsx)("button",{onClick:function(){K.a.delete("https://social-network.samuraijs.com/api/1.0/follow/".concat(t.id),{withCredentials:!0,headers:{"API-KEY":"0f3107dc-d7f5-455d-ae6e-0283b9882006"}}).then((function(s){0===s.data.resultCode&&e.unfollow(t.id)}))},children:"Unfollow"}):Object(o.jsx)("button",{onClick:function(){K.a.post("https://social-network.samuraijs.com/api/1.0/follow/".concat(t.id),{},{withCredentials:!0,headers:{"API-KEY":"0f3107dc-d7f5-455d-ae6e-0283b9882006"}}).then((function(s){0===s.data.resultCode&&e.follow(t.id)}))},children:"Follow"})})]}),Object(o.jsxs)("span",{children:[Object(o.jsxs)("span",{children:[Object(o.jsx)("div",{children:t.name}),Object(o.jsx)("div",{children:t.status?"Status: ".concat(t.status):null})]}),Object(o.jsxs)("span",{children:[Object(o.jsx)("div",{children:"u.location.country"}),Object(o.jsx)("div",{children:"u.location.city"})]})]})]},t.id)}))]})},te=s.p+"static/media/preloader.3e590035.svg",se=function(){return Object(o.jsx)("div",{children:Object(o.jsx)("img",{src:te,alt:"preloader"})})},ne=function(e){Object(B.a)(s,e);var t=Object(H.a)(s);function s(){var e;Object(M.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){e.props.toggleIsFetching(!0),e.props.setCurrentPage(t),K.a.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(t,"&count=").concat(e.props.pageSize),{withCredentials:!0}).then((function(t){e.props.toggleIsFetching(!1),e.props.setUsers(t.data.items)}))},e}return Object(L.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.props.toggleIsFetching(!0),K.a.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(this.props.currentPage,"&count=").concat(this.props.pageSize),{withCredentials:!0}).then((function(t){e.props.toggleIsFetching(!1),e.props.setUsers(t.data.items),e.props.setTotalUsersCount(t.data.totalCount)}))}},{key:"render",value:function(){return Object(o.jsxs)("div",{children:[this.props.isFetching?Object(o.jsx)(se,{}):null,Object(o.jsx)(ee,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,onPageChanged:this.onPageChanged})]})}}]),s}(i.a.Component),ae=Object(N.b)((function(e){return{users:e.usersPage.users,pageSize:e.usersPage.pageSize,totalUsersCount:e.usersPage.totalUsersCount,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching}}),{follow:function(e){return{type:W,userId:e}},unfollow:function(e){return{type:R,userId:e}},setUsers:function(e){return{type:G,users:e}},setCurrentPage:function(e){return{type:z,currentPage:e}},setTotalUsersCount:function(e){return{type:V,totalUsersCount:e}},toggleIsFetching:function(e){return{type:X,isFetching:e}}})(ne),ie=s(44),re=s.n(ie),ce=s(25),oe=s.n(ce),le=function(e){return e.profile?Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:oe.a.image,children:Object(o.jsx)("img",{src:"https://photos.smugmug.com/Wallpapers/i-7Tds9J5/0/9d189a52/X2/HDRshooter-super-ultra-wide-wallpaper-034-X2.jpg",alt:"",className:oe.a.profileImg})}),Object(o.jsxs)("div",{className:oe.a.descriptionBlock,children:[Object(o.jsx)("div",{children:Object(o.jsx)("img",{src:e.profile.photos.large?e.profile.photos.large:"https://winaero.com/blog/wp-content/uploads/2018/08/Windows-10-user-icon-big.png",alt:"avatar"})}),Object(o.jsxs)("div",{children:["ID: ",e.profile.userId]}),Object(o.jsxs)("div",{children:["Full Name: ",e.profile.fullName?e.profile.fullName:"Not indicated"]}),Object(o.jsxs)("div",{children:["About me: ",e.profile.aboutMe?e.profile.aboutMe:"No information"]}),Object(o.jsxs)("div",{children:["Looking for a job: ",e.profile.lookingForAJob?"Yes":"No"]})]})]}):Object(o.jsx)(se,{})},de="ADD_POST",ue="UPDATE_NEW_POST_TEXT",je="SET_USER_PROFILE",pe={posts:[{id:1,message:"Hi, how are you?",likesCount:8},{id:2,message:"It's my first post",likesCount:20},{id:3,message:"Hey",likesCount:228}],newPostText:"",profile:null},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:return Object(j.a)(Object(j.a)({},e),{},{newPostText:"",posts:[].concat(Object(u.a)(e.posts),[{id:5,message:e.newPostText,likesCount:0}])});case ue:return Object(j.a)(Object(j.a)({},e),{},{newPostText:t.newText});case je:return Object(j.a)(Object(j.a)({},e),{},{profile:t.profile});default:return e}},fe=s(32),be=s.n(fe),he=s(45),me=s.n(he),Oe=function(e){return Object(o.jsxs)("div",{className:me.a.item,children:[Object(o.jsx)("img",{src:"https://i.pinimg.com/originals/f5/27/41/f52741fb62bf1d821948a49204406bdc.jpg",alt:""}),e.message,Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{children:"Like"})," ",e.likesCount]})]})},xe=function(e){var t=e.posts.map((function(e){return Object(o.jsx)(Oe,{message:e.message,likesCount:e.likesCount},e.id)})),s=i.a.createRef();return Object(o.jsxs)("div",{className:be.a.postsBlock,children:[Object(o.jsx)("h3",{children:"My posts"}),Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{children:Object(o.jsx)("textarea",{ref:s,onChange:function(){var t=s.current.value;e.updateNewPostText(t)},value:e.newPostText})}),Object(o.jsxs)("div",{children:[Object(o.jsx)("button",{onClick:function(){e.addPost()},children:"Add post"}),Object(o.jsx)("button",{children:"Remove"})]})]}),Object(o.jsx)("div",{className:be.a.posts,children:t})]})},ve=Object(N.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{updateNewPostText:function(t){e(function(e){return{type:ue,newText:e}}(t))},addPost:function(){e({type:de})}}}))(xe),_e=function(e){return Object(o.jsxs)("div",{className:re.a.content,children:[Object(o.jsx)(le,{profile:e.profile}),Object(o.jsx)(ve,{})]})},we=function(e){Object(B.a)(s,e);var t=Object(H.a)(s);function s(){return Object(M.a)(this,s),t.apply(this,arguments)}return Object(L.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.userId;t||(t=17585),K.a.get("https://social-network.samuraijs.com/api/1.0/profile/"+t).then((function(t){e.props.setUserProfile(t.data)}))}},{key:"render",value:function(){return Object(o.jsx)(_e,Object(j.a)(Object(j.a)({},this.props),{},{profile:this.props.profile}))}}]),s}(i.a.Component),Pe=Object(d.e)(we),Ne=Object(N.b)((function(e){return{profile:e.profilePage.profile}}),{setUserProfile:function(e){return{type:je,profile:e}}})(Pe),Ce=s(33),ye=s.n(Ce),Te=function(e){return Object(o.jsxs)("header",{className:ye.a.header,children:[Object(o.jsx)("img",{src:"https://www.freeiconspng.com/uploads/tumblr-logo-icon-9.png",alt:""}),Object(o.jsx)("div",{className:ye.a.loginBlock,children:e.isAuth?e.login:Object(o.jsx)(O.b,{to:"/login",children:"Login"})})]})},ke="SET_USER_DATA",Fe={userId:null,email:null,login:null,isAuth:!1},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke:return Object(j.a)(Object(j.a)(Object(j.a)({},e),t.data),{},{isAuth:!0});default:return e}},Se=function(e){Object(B.a)(s,e);var t=Object(H.a)(s);function s(){return Object(M.a)(this,s),t.apply(this,arguments)}return Object(L.a)(s,[{key:"componentDidMount",value:function(){var e=this;K.a.get("https://social-network.samuraijs.com/api/1.0/auth/me",{withCredentials:!0}).then((function(t){if(0===t.data.resultCode){var s=t.data.data,n=s.id,a=s.login,i=s.email;e.props.setAuthUserData(n,i,a)}}))}},{key:"render",value:function(){return Object(o.jsx)(Te,Object(j.a)({},this.props))}}]),s}(i.a.Component),Ue=Object(N.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{setAuthUserData:function(e,t,s){return{type:ke,data:{userId:e,email:t,login:s}}}})(Se),Ee=function(e){return Object(o.jsxs)("div",{className:"app-wrapper",children:[Object(o.jsx)(Ue,{}),Object(o.jsx)(A,{}),Object(o.jsxs)("div",{className:"app-wrapper-content",children:[Object(o.jsx)(d.a,{path:"/first-react-app/profile/:userId?",render:function(){return Object(o.jsx)(Ne,{})}}),Object(o.jsx)(d.a,{path:"/first-react-app/dialogs",render:function(){return Object(o.jsx)(C,{})}}),Object(o.jsx)(d.a,{path:"/first-react-app/feed",component:l}),Object(o.jsx)(d.a,{path:"/first-react-app/users",render:function(){return Object(o.jsx)(ae,{})}})]})]})},De=s(34),Ae={friends:[{id:1,name:"Vlad"},{id:2,name:"NeVlad"},{id:4,name:"VLAAD"}]},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae;return e},Le=Object(De.a)({profilePage:ge,dialogsPage:b,sidebar:Me,usersPage:Y,auth:Ie}),Be=Object(De.b)(Le);window.store=Be;var He=Be;c.a.render(Object(o.jsx)(O.a,{children:Object(o.jsx)(N.a,{store:He,children:Object(o.jsx)(Ee,{})})}),document.getElementById("root")),n()}},[[76,1,2]]]);
//# sourceMappingURL=main.c7e1d117.chunk.js.map